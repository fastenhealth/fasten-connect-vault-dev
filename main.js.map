{"version":3,"file":"main.js","mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.constants.ts","./src/app/app.module.ts","./src/app/auth-guards/is-authenticated-auth-guard.ts","./src/app/components/footer/footer.component.ts","./src/app/components/footer/footer.component.html","./src/app/components/header/header.component.ts","./src/app/components/header/header.component.html","./src/app/models/fasten/vaultProfile.ts","./src/app/models/forms/form-request-health-system.ts","./src/app/models/search-filter.ts","./src/app/models/vault-config.ts","./src/app/pages/complete/complete.component.ts","./src/app/pages/complete/complete.component.html","./src/app/pages/dashboard/dashboard.component.ts","./src/app/pages/dashboard/dashboard.component.html","./src/app/pages/form-health-system-request/form-health-system-request.component.ts","./src/app/pages/form-health-system-request/form-health-system-request.component.html","./src/app/pages/form-support-request/form-support-request.component.ts","./src/app/pages/form-support-request/form-support-request.component.html","./src/app/pages/health-system-brand-details/health-system-brand-details.component.ts","./src/app/pages/health-system-brand-details/health-system-brand-details.component.html","./src/app/pages/health-system-connecting/health-system-connecting.component.ts","./src/app/pages/health-system-connecting/health-system-connecting.component.html","./src/app/pages/health-system-search/health-system-search.component.ts","./src/app/pages/health-system-search/health-system-search.component.html","./src/app/pages/identity-verification/identity-verification.component.ts","./src/app/pages/identity-verification/identity-verification.component.html","./src/app/pages/vault-profile-signin-code/vault-profile-signin-code.component.ts","./src/app/pages/vault-profile-signin-code/vault-profile-signin-code.component.html","./src/app/pages/vault-profile-signin/vault-profile-signin.component.ts","./src/app/pages/vault-profile-signin/vault-profile-signin.component.html","./src/app/pipes/safe-html.pipe.ts","./src/app/services/auth-interceptor.service.ts","./src/app/services/auth.service.ts","./src/app/services/config.service.ts","./src/app/services/vault.service.ts","./src/environments/environment.dev.ts","./src/environments/versions.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {DashboardComponent} from './pages/dashboard/dashboard.component';\nimport {VaultProfileSigninComponent} from './pages/vault-profile-signin/vault-profile-signin.component';\nimport {IsAuthenticatedAuthGuard} from './auth-guards/is-authenticated-auth-guard';\nimport {VaultProfileSigninCodeComponent} from './pages/vault-profile-signin-code/vault-profile-signin-code.component';\nimport {IdentityVerificationComponent} from './pages/identity-verification/identity-verification.component';\nimport {HealthSystemSearchComponent} from './pages/health-system-search/health-system-search.component';\nimport {\n  HealthSystemBrandDetailsComponent\n} from './pages/health-system-brand-details/health-system-brand-details.component';\nimport {\n  FormHealthSystemRequestComponent\n} from './pages/form-health-system-request/form-health-system-request.component';\nimport {FormSupportRequestComponent} from './pages/form-support-request/form-support-request.component';\nimport {HealthSystemConnectingComponent} from './pages/health-system-connecting/health-system-connecting.component';\nimport {CompleteComponent} from './pages/complete/complete.component';\n\nconst routes: Routes = [\n\n  { path: 'auth/signin', component: VaultProfileSigninComponent },\n  { path: 'auth/signin/code', component: VaultProfileSigninCodeComponent },\n  { path: 'auth/identity-verification', component: IdentityVerificationComponent },\n\n  { path: '', redirectTo: '/auth/signin', pathMatch: 'full' },\n  { path: 'dashboard', component: DashboardComponent, canActivate: [ IsAuthenticatedAuthGuard] },\n  { path: 'search', component: HealthSystemSearchComponent },\n  { path: 'brand-details', component: HealthSystemBrandDetailsComponent },\n  { path: 'form-request', component: FormHealthSystemRequestComponent },\n  { path: 'form-support', component: FormSupportRequestComponent },\n  { path: 'portal-connecting', component: HealthSystemConnectingComponent },\n  { path: 'complete', component: CompleteComponent },\n\n  //must be at bottom of list\n  { path: '**', redirectTo: 'auth/signin' },\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\nimport {NavigationEnd, Router, RouterEvent} from '@angular/router';\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'fastenhealth';\n\n  showHeader:boolean = false;\n  showFooter:boolean = true;\n\n  constructor(\n    private router: Router,\n    // private toastService: ToastService,\n    private modalService: NgbModal\n  ) {}\n\n  ngOnInit() {\n\n    // navbar backdrop for mobile only\n    const navbarBackdrop = document.createElement('div');\n    navbarBackdrop.classList.add('az-navbar-backdrop');\n    document.querySelector('body')?.appendChild(navbarBackdrop);\n\n    //determine if we should show the header\n    this.router.events.subscribe(event => this.routerEvent(event));\n  }\n\n  routerEvent(event: any) {\n    if (event instanceof NavigationEnd) {\n      //modify header\n      if (event.url?.startsWith('/auth') || event.url?.startsWith('/desktop')) {\n        this.showHeader = false;\n      } else {\n        // console.log(\"NU\")\n        this.showHeader = true;\n      }\n\n      // close all open modals when route change\n      this.modalService.dismissAll();\n    }\n  }\n}\n","<div id=\"test-mode-banner\" class=\"mx-auto w-full max-w-[440px] mb-2 bg-[#DC3545] text-white text-center py-2 px-4 rounded-t-lg font-medium text-sm flex items-center justify-center gap-2\">\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-construction\"><rect x=\"2\" y=\"6\" width=\"20\" height=\"8\" rx=\"1\"/><path d=\"M17 14v7\"/><path d=\"M7 14v7\"/><path d=\"M17 3v3\"/><path d=\"M7 3v3\"/><path d=\"M10 14 2.3 6.3\"/><path d=\"m14 6 7.7 7.7\"/><path d=\"m8 6 8 8\"/></svg>\n  You are using Fasten in test mode\n</div>\n<div id=\"widget-container\" class=\"mx-auto w-full max-w-[440px] bg-white rounded-lg shadow-lg p-6\">\n  <router-outlet></router-outlet>\n</div>\n","export enum ApiMode {\n  Live = 'live',\n  Test = 'test',\n}\n\nexport const ORG_CREDENTIAL_PUBLIC_ID = 'public_test_rei2un7aagh5pquwikxh2dsyq23bsdyu4l8vm9eq29ftu'\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { far } from '@fortawesome/free-regular-svg-icons';\nimport {InfiniteScrollModule} from 'ngx-infinite-scroll';\n\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport {FontAwesomeModule, FaIconLibrary} from '@fortawesome/angular-fontawesome';\nimport {HeaderComponent} from './components/header/header.component';\nimport {FooterComponent} from './components/footer/footer.component';\nimport { DashboardComponent } from './pages/dashboard/dashboard.component';\nimport { VaultProfileSigninComponent } from './pages/vault-profile-signin/vault-profile-signin.component';\nimport {IsAuthenticatedAuthGuard} from './auth-guards/is-authenticated-auth-guard';\nimport {Router} from '@angular/router';\nimport {AuthService} from './services/auth.service';\nimport {AuthInterceptorService} from './services/auth-interceptor.service';\nimport {MomentModule} from 'ngx-moment';\nimport { VaultProfileSigninCodeComponent } from './pages/vault-profile-signin-code/vault-profile-signin-code.component';\nimport { CodeInputModule } from 'angular-code-input';\nimport { IdentityVerificationComponent } from './pages/identity-verification/identity-verification.component';\nimport { HealthSystemSearchComponent } from './pages/health-system-search/health-system-search.component';\nimport { HealthSystemBrandDetailsComponent } from './pages/health-system-brand-details/health-system-brand-details.component';\nimport { FormHealthSystemRequestComponent } from './pages/form-health-system-request/form-health-system-request.component';\nimport { FormSupportRequestComponent } from './pages/form-support-request/form-support-request.component';\nimport { HealthSystemConnectingComponent } from './pages/health-system-connecting/health-system-connecting.component';\nimport { CompleteComponent } from './pages/complete/complete.component';\nimport { SafeHtmlPipe } from './pipes/safe-html.pipe';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeaderComponent,\n    FooterComponent,\n    DashboardComponent,\n    VaultProfileSigninComponent,\n    VaultProfileSigninCodeComponent,\n    IdentityVerificationComponent,\n    HealthSystemSearchComponent,\n    HealthSystemBrandDetailsComponent,\n    FormHealthSystemRequestComponent,\n    FormSupportRequestComponent,\n    HealthSystemConnectingComponent,\n    CompleteComponent,\n    SafeHtmlPipe,\n  ],\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n\n    NgbModule,\n    FontAwesomeModule,\n    MomentModule,\n    CodeInputModule,\n    InfiniteScrollModule,\n  ],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AuthInterceptorService,\n      multi: true,\n      deps: [AuthService, Router]\n    },\n    IsAuthenticatedAuthGuard,\n  ],\n  bootstrap: [AppComponent],\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class AppModule {\n  constructor(library: FaIconLibrary) {\n    library.addIconPacks(fas, far);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router} from '@angular/router';\nimport {AuthService} from '../services/auth.service';\n\n@Injectable()\nexport class IsAuthenticatedAuthGuard implements CanActivate {\n  constructor(private authService: AuthService, private router: Router) {\n\n  }\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise <boolean> {\n    let jwtPayload = await this.authService.GetJWTPayload()\n\n    //check if the user is authenticated, if not, redirect to login\n    if (!jwtPayload) {\n      return await this.router.navigate(['/auth/signin']);\n    } else if(!jwtPayload.has_verified_identity){\n      console.log(\"Profile does not have a verified identity, redirecting to id verification step\", jwtPayload)\n      return await this.router.navigate(['/auth/identity-verification']);\n    }\n\n\n    // continue as normal\n    return true\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {versionInfo} from '../../../environments/versions';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n  appVersion: string;\n\n  constructor() {\n    this.appVersion = versionInfo.version\n  }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"az-footer ht-40 page-footer fixed-bottom\">\n  <div class=\"container ht-100p pd-t-0-f\">\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between py-2 w-100\">\n      <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">Copyright © Fasten Health, Inc. 2022 | {{appVersion}}</span>\n      <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center\"><a href=\"https://www.fastenhealth.com/connect\">Fasten Connect: Unified API For Medical Records</a></span>\n    </div>\n  </div><!-- container -->\n</div><!-- az-footer -->\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\nimport {Router} from '@angular/router';\nimport {VaultService} from '../../services/vault.service';\nimport {VaultSystemConfig} from '../../models/vault-config';\nimport {ConfigService} from '../../services/config.service';\nimport {Organization} from '../../models/fasten/organization';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n\n  constructor(\n    private authService: AuthService,\n    private connectService: VaultService,\n    public vaultConfigService: ConfigService,\n    private router: Router,\n  ) { }\n\n  ngOnInit() {}\n\n  toggleHeaderMenu(event: Event) {\n    event.preventDefault();\n    document.querySelector('body')?.classList.toggle('az-header-menu-show');\n  }\n  closeMenu(e: Event) {\n    (e.target as HTMLElement).closest('.dropdown')?.classList.remove('show');\n    (e.target as HTMLElement).closest('.dropdown .dropdown-menu')?.classList.remove('show');\n  }\n\n  signOut(event: Event) {\n    this.authService.Signout().then(r => {\n      return this.router.navigate(['/auth/signin'])\n    })\n  }\n}\n","<div [hidden]=\"vaultConfigService.systemConfig$.apiMode == 'live'\" class=\"bg-danger text-white pd-5\">\n  <strong>Test Mode Enabled</strong>\n  <span class=\"text-white float-right\">You're using test data. You will only be able to access sandbox accounts.</span>\n</div>\n\n<div class=\"az-header\">\n  <div class=\"container\">\n    <div class=\"az-header-left\">\n      <a routerLink=\"/\" >\n        <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-logo az-img-logo\">\n      </a>\n      <a href=\"#\" id=\"azMenuShow\" (click)=\"toggleHeaderMenu($event)\" class=\"az-header-menu-icon d-lg-none\"><span></span></a>\n    </div><!-- az-header-left -->\n    <div class=\"az-header-menu\">\n      <div class=\"az-header-menu-header\">\n        <a routerLink=\"/\">\n          <img src=\"assets/images/banner-transparent-trim.png\" alt=\"fasten\" class=\"az-img-logo\">\n        </a>\n        <a href=\"#\" (click)=\"toggleHeaderMenu($event)\" class=\"close\">&times;</a>\n      </div><!-- az-header-menu-header -->\n      <ul class=\"nav\">\n\n        <li class=\"nav-item\" ngbDropdown [ngClass]=\"{ 'active': dashboard?.isActive }\">\n          <a routerLink=\"/dashboard\" routerLinkActive=\"active\" #dashboard=\"routerLinkActive\" class=\"nav-link\"><fa-icon [icon]=\"['fas', 'table-columns']\"></fa-icon>&nbsp; Dashboard</a>\n        </li>\n        <li class=\"nav-item\" ngbDropdown [ngClass]=\"{ 'active': developers?.isActive }\">\n          <a routerLink=\"/developers\" routerLinkActive=\"active\" #developers=\"routerLinkActive\" class=\"nav-link\"><fa-icon [icon]=\"['fas', 'code']\"></fa-icon>&nbsp; Developer</a>\n        </li>\n\n      </ul>\n    </div><!-- az-header-menu -->\n    <div class=\"az-header-right\">\n\n      <div class=\"dropdown az-header-notification\" ngbDropdown>\n        <a class=\"new\" id=\"notificationsDropdown\" ngbDropdownToggle><i class=\"far fa-sm fa-bell\"></i></a>\n        <div class=\"dropdown-menu\" ngbDropdownMenu aria-labelledby=\"notificationsDropdown\">\n          <div class=\"az-dropdown-header mg-b-20 d-sm-none\">\n            <a class=\"az-header-arrow\" (click)=\"closeMenu($event)\"><i class=\"icon ion-md-arrow-back\"></i></a>\n          </div>\n          <h6 class=\"az-notification-title\">Notifications</h6>\n          <p class=\"az-notification-text\">Background Jobs & Updates</p>\n          <div class=\"dropdown-footer\"><a routerLink=\"/background-jobs\">View History</a></div>\n        </div><!-- dropdown-menu -->\n      </div><!-- az-header-notification -->\n      <div class=\"dropdown az-profile-menu\" ngbDropdown>\n        <a class=\"az-img-user cursor-pointer\" id=\"profileDropdown\" ngbDropdownToggle>\n          <img src=\"/assets/images/profile-image.svg\" alt=\"\">\n        </a>\n        <div class=\"dropdown-menu\" ngbDropdownMenu aria-labelledby=\"profileDropdown\">\n          <div class=\"az-dropdown-header d-sm-none\">\n            <a class=\"az-header-arrow\" (click)=\"closeMenu($event)\"><i class=\"icon ion-md-arrow-back\"></i></a>\n          </div>\n          <div [routerLink]=\"'/patient-profile'\" class=\"az-header-profile cursor-pointer\">\n            <div class=\"az-img-user\">\n              <img src=\"{{vaultConfigService.systemConfig$.org?.logo_uri}}\" alt=\"\">\n            </div><!-- az-img-user -->\n          </div><!-- az-header-profile -->\n\n          <a routerLink=\"account/settings\"  class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-user-circle\"></i> Profile Settings</a>\n          <a routerLink=\"org/settings\" class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-hospital\"></i> Org Settings</a>\n          <a  class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-life-ring\"></i> Get Support</a>\n          <a (click)=\"signOut($event)\" class=\"dropdown-item  cursor-pointer\"><i style=\"font-size: medium;\" class=\"fas fa-power-off\"></i> Sign Out</a>\n        </div><!-- dropdown-menu -->\n      </div>\n    </div><!-- az-header-right -->\n  </div><!-- container -->\n</div><!-- az-header -->\n\n","export class VaultProfile {\n  id?: string\n  name?: string\n  email?: string\n  password?: string\n  org_id?: string\n\n  //not sent to the server\n  password_confirm?: string = \"\"\n  agree_terms?: boolean = false\n}\n","export class FormRequestHealthSystem {\n  name: string = \"\"\n  email: string = \"\"\n  website: string = \"\"\n  street_address: string = \"\"\n}\n","\nexport class SearchFilter {\n  //primary search terms (changes here should restart the search completely)\n  query: string = \"\"\n\n  //secondary search terms/facets (changes here should restart pagination)\n  platformTypes: string[] = [];\n  categories: string[] = [];\n  showHidden: boolean = false;\n\n  //pagination - this is the current page (changes here should be ignored)\n  searchAfter: string | string[] = '';\n\n  fields: string[] = []; //specify the fields to return. if null or empty list, return all.\n}\n","/**\n * AppConfig interface. Update this interface to strictly type your config\n * object.\n */\nimport {ApiMode} from '../app.constants';\nimport {Organization} from './fasten/organization';\nimport {VaultProfile} from './fasten/vaultProfile';\nimport {SearchFilter} from './search-filter';\nimport {LighthouseBrandListDisplayItem} from './lighthouse/lighthouse-source-search';\n\nexport interface VaultSystemConfig {\n  apiMode?: ApiMode;\n  org?: Organization;\n  org_id?: string\n  reconnectOrgConnectionId?: string;\n}\n\nexport interface VaultProfileConfig {\n  vaultProfile?: VaultProfile;\n  // current connected patient auth's\n  // (FUTURE) potential patient auths?\n}\n\nexport interface VaultSearchConfig {\n  searchFilter?: SearchFilter\n  selectedBrand?: LighthouseBrandListDisplayItem\n}\n\n// - apiMode\n// - organization information\n// - org credential information\n// - reconnect id.\n\n/**\n * Default configuration for the entire application. This object is used by\n * \"PortalConfigService\" to set the default configuration.\n */\nexport const vaultConfigDefaults: VaultSystemConfig = {\n  apiMode: ApiMode.Test\n};\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-complete',\n  templateUrl: './complete.component.html',\n  styleUrls: ['./complete.component.scss']\n})\nexport class CompleteComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- Step: COMPLETION -->\n<div id=\"step-completion\" class=\"step-view text-center space-y-6\">\n  <div class=\"flex justify-center items-center\">\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div class=\"w-16 h-16 mx-auto bg-[#5B47FB]/10 rounded-full flex items-center justify-center success-circle\">\n    <svg class=\"w-8 h-8 text-[#5B47FB]\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\"\n         viewBox=\"0 0 24 24\">\n      <path class=\"success-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n    </svg>\n  </div>\n\n  <div class=\"space-y-2\">\n    <h2 class=\"text-2xl font-bold\">Success!</h2>\n    <p class=\"text-gray-600\">\n      Your health records have been successfully linked with Acme Labs.\n      You can now close this window.\n    </p>\n  </div>\n\n  <button id=\"completion-close\" class=\"bg-[#5B47FB] hover:bg-[#4936E8] text-white py-2 px-4 rounded-md\">\n    Close\n  </button>\n</div>\n<!-- End Step: COMPLETION -->\n","import {Component, OnInit} from '@angular/core';\nimport {VaultService} from '../../services/vault.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n\n\n  constructor(\n    private vaultService: VaultService,\n  ) { }\n\n  ngOnInit(): void {\n    this.vaultService.getRecordLocator().subscribe((result)=>{\n      console.log(\"record locator\", result)\n    })\n  }\n}\n","<div id=\"step-connecting-systems\" class=\"space-y-6\">\n  <div class=\"flex justify-center items-center\">\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div class=\"space-y-2\">\n    <h2 class=\"text-xl font-bold\">Select Health Systems</h2>\n    <p class=\"text-sm text-gray-600\">\n      Choose the health systems you'd like to connect\n    </p>\n  </div>\n\n  <!-- dynamically populate list of systems -->\n  <div class=\"space-y-3\" id=\"connecting-systems-list\">\n\n  </div>\n\n  <!-- Search button to connect new system -->\n  <button id=\"search-button\"\n          class=\"w-full border border-gray-200 rounded-lg flex justify-between items-center px-4 py-3 text-sm font-medium hover:border-[#5B47FB] hover:bg-[#5B47FB]/5 transition-all\">\n    <div class=\"flex items-center gap-2\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n        <path d=\"M21 21l-5.2-5.2m2.2-5.3a7.5 7.5 0 11-15 0 7.5 7.5 0 0115 0z\" stroke-width=\"2\"\n              stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n      </svg>\n      <span>Connect a new health system</span>\n    </div>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n         stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n         class=\"lucide lucide-chevron-right w-5 h-5 text-gray-400\">\n      <polyline points=\"9 6 15 12 9 18\" />\n    </svg>\n  </button>\n\n  <div class=\"flex items-center justify-between pt-4\">\n    <div class=\"flex items-center gap-2 text-sm text-gray-600\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-lock w-4 h-4\"><rect width=\"18\" height=\"11\" x=\"3\" y=\"11\" rx=\"2\" ry=\"2\"/><path d=\"M7 11V7a5 5 0 0 1 10 0v4\"/></svg>\n      <span>Your medical records are secure</span>\n    </div>\n    <button id=\"connecting-continue\"\n            class=\"bg-[#5B47FB] hover:bg-[#4936E8] text-white py-2 px-4 rounded-md disabled:opacity-50\" disabled>\n      Continue\n    </button>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport {VaultService} from '../../services/vault.service';\nimport {ConfigService} from '../../services/config.service';\nimport {FormRequestHealthSystem} from '../../models/forms/form-request-health-system';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-form-health-system-request',\n  templateUrl: './form-health-system-request.component.html',\n  styleUrls: ['./form-health-system-request.component.scss']\n})\nexport class FormHealthSystemRequestComponent implements OnInit {\n  formRequestHealthSystem: FormRequestHealthSystem = {} as FormRequestHealthSystem\n\n  loading: boolean = false\n  submitSuccess: boolean = false\n  errorMsg: string = \"\"\n\n  constructor(\n    private router: Router,\n    private configService: ConfigService,\n    private vaultApi: VaultService,\n  ) { }\n\n  ngOnInit(): void {\n    this.resetForm()\n  }\n\n  resetForm() {\n    this.submitSuccess = false\n    let requestForm = new FormRequestHealthSystem()\n    requestForm.email = ''\n    requestForm.name = this.configService.searchConfig$.searchFilter?.query || \"\"\n    requestForm.street_address = ''\n    requestForm.website = ''\n\n    this.formRequestHealthSystem = requestForm\n  }\n\n  submitForm() {\n    this.loading = true\n    this.vaultApi.requestHealthSystem(this.formRequestHealthSystem).subscribe((resp: any) => {\n        this.loading = false\n        this.submitSuccess = true\n        //show success toast? close modal?\n      },\n      (err)=>{\n        this.loading = false\n        console.error(\"an error occurred during request submission\",err)\n        this.errorMsg = err || \"An error occurred while submitting your request. Please try again later.\"\n      })\n  }\n\n  dismiss(){\n    // this.messageBus.componentNavigationSubject.next({\n    //   page: ComponentNavPage.Search,\n    // } as ComponentNavigationEvent)\n\n    this.router.navigateByUrl('/dashboard')\n  }\n}\n","<!-- Step: REQUEST FORM -->\n<div id=\"step-request-form\" class=\"space-y-6\">\n  <div id=\"request-form-nav\" class=\"relative flex justify-center items-center\">\n    <button type=\"button\" id=\"request-back\"\n            class=\"absolute left-0 top-1/2 -translate-y-1/2 text-gray-700 p-2 hover:bg-gray-100 rounded-md\">\n      <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n      </svg>\n    </button>\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n\n  <form id=\"request-form\" class=\"space-y-6\" *ngIf=\"submitSuccess; else requestSuccess\" (ngSubmit)=\"submitForm()\" #supportRequestForm=\"ngForm\">\n    <div id=\"request-form-header\" class=\"space-y-2\">\n      <h2 class=\"text-xl font-bold\">Request your Health System</h2>\n      <p class=\"text-base text-gray-600\">\n        Sharing your email address and related information helps us prioritize your Health System.\n      </p>\n    </div>\n\n    <div class=\"space-y-4\">\n      <div class=\"space-y-2\">\n        <label class=\"block text-sm font-medium text-gray-700 tracking-tight\">Your email address\n          <span class=\"text-red-500\">*</span></label>\n        <input id=\"request-email\" type=\"email\" placeholder=\"you@example.com\" required email\n               [(ngModel)]=\"formRequestHealthSystem.email\" name=\"email\" #email=\"ngModel\"\n               class=\"block w-full mt-1 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20 tracking-tight\" />\n        <p *ngIf=\"email.invalid && (email.dirty || email.touched)\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n          <span *ngIf=\"email.errors?.['required']\">\n            Email is required.\n          </span>\n            <span *ngIf=\"email.errors?.['email']\">\n            Email must be valid.\n          </span>\n        </p>\n      </div>\n\n      <div class=\"space-y-2\">\n        <label class=\"block text-sm font-medium text-gray-700 tracking-tight\">Health system name\n          <span class=\"text-red-500\">*</span></label>\n        <input id=\"request-healthsystem\" type=\"text\"\n               placeholder=\"Mayo Clinic, Cleveland Clinic, Kaiser Permanente\"\n               [(ngModel)]=\"formRequestHealthSystem.name\" name=\"name\" #name=\"ngModel\" required minlength=\"4\"\n               class=\"block w-full mt-1 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20 tracking-tight\" />\n        <p *ngIf=\"name.invalid && (name.dirty || name.touched)\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n        <span *ngIf=\"name.errors?.['required']\">\n          Health system name is required.\n        </span>\n          <span *ngIf=\"name.errors?.['minlength']\">\n          Health system name must be at least 4 characters long.\n        </span>\n        </p>\n      </div>\n\n      <div class=\"space-y-2\">\n        <label class=\"block text-sm font-medium text-gray-700 tracking-tight\">Website <span\n          class=\"text-red-500\">*</span></label>\n        <input id=\"request-website\" type=\"text\" placeholder=\"www.mayoclinic.org\"\n               [(ngModel)]=\"formRequestHealthSystem.website\"name=\"website\" #website=\"ngModel\" required minlength=\"4\"\n               class=\"block w-full mt-1 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20 tracking-tight\" />\n        <p *ngIf=\"website.invalid && (website.dirty || website.touched)\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n        <span *ngIf=\"website.errors?.['required']\">\n          Website is required.\n        </span>\n          <span *ngIf=\"website.errors?.['minlength']\">\n          Website must be at least 4 characters long.\n        </span>\n        </p>\n      </div>\n    </div>\n\n    <div class=\"space-y-2\">\n      <label class=\"block text-sm font-medium text-gray-700 tracking-tight\">Street Address</label>\n      <input id=\"request-address\" type=\"text\" placeholder=\"123 Broadway, New York, NY\"\n             [(ngModel)]=\"formRequestHealthSystem.street_address\"name=\"website\" #street_address=\"ngModel\"\n             class=\"block w-full mt-1 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20 tracking-tight\" />\n    </div>\n\n    <p *ngIf=\"errorMsg\" class=\"mt-2 text-sm text-red-600 dark:text-red-500\">\n      <strong>Error</strong> {{errorMsg}}\n    </p>\n\n    <button type=\"submit\"\n            [ngClass]=\"{'cursor-not-allowed': !supportRequestForm.form.valid || loading}\"\n            [disabled]=\"!supportRequestForm.form.valid || loading\"\n            class=\"w-full bg-[#5B47FB] hover:bg-[#4936E8] text-white py-2 px-4 rounded-md tracking-tight font-medium\">\n      Submit\n    </button>\n  </form>\n</div>\n<!-- End Step: REQUEST FORM -->\n\n<ng-template #requestSuccess>\n\n  <!-- Success animation container -->\n  <div id=\"request-success-animation\" class=\" text-center py-16\">\n    <div class=\"w-16 h-16 mx-auto bg-[#5B47FB]/10 rounded-full flex items-center justify-center success-circle\">\n      <svg class=\"w-8 h-8 text-[#5B47FB]\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\"\n           viewBox=\"0 0 24 24\">\n        <path class=\"success-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n      </svg>\n    </div>\n    <div class=\"flex items-center justify-center\">\n\n      <div>\n        <div class=\"text-base text-gray-600 py-5\">\n          Thanks for providing information about your Health System. Your request has been recorded and we will notify you once your Health System is supported.\n        </div>\n        <button (click)=\"dismiss()\" type=\"button\" class=\"py-2 w-full bg-[#5B47FB] hover:bg-[#4936E8] text-white py-2 px-4 rounded-md tracking-tight font-medium\" >\n          Dismiss\n        </button>\n      </div>\n\n    </div>\n  </div>\n\n</ng-template>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-form-support-request',\n  templateUrl: './form-support-request.component.html',\n  styleUrls: ['./form-support-request.component.scss']\n})\nexport class FormSupportRequestComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- Step: SUPPORT REQUEST FORM -->\n<div id=\"step-request-form\" class=\"space-y-6\">\n  <div id=\"request-form-nav\" class=\"relative flex justify-center items-center\">\n    <button type=\"button\" id=\"request-back\"\n            class=\"absolute left-0 top-1/2 -translate-y-1/2 text-gray-700 p-2 hover:bg-gray-100 rounded-md\">\n      <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n      </svg>\n    </button>\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div id=\"request-form-header\" class=\"space-y-2\">\n    <h2 class=\"text-xl font-bold\">Request your Health System</h2>\n    <p class=\"text-base text-gray-600\">\n      Sharing your email address and related information helps us prioritize your Health System.\n    </p>\n  </div>\n\n  <!-- Success animation container -->\n  <div id=\"request-success-animation\" class=\"hidden text-center py-16\">\n    <div class=\"w-16 h-16 mx-auto bg-[#5B47FB]/10 rounded-full flex items-center justify-center success-circle\">\n      <svg class=\"w-8 h-8 text-[#5B47FB]\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\"\n           viewBox=\"0 0 24 24\">\n        <path class=\"success-check\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n      </svg>\n    </div>\n  </div>\n\n  <form id=\"request-form\" class=\"space-y-6\">\n    <div class=\"space-y-4\">\n      <div class=\"space-y-2\">\n        <label class=\"block text-sm font-medium text-gray-700 tracking-tight\">Your email address\n          <span class=\"text-red-500\">*</span></label>\n        <input id=\"request-email\" type=\"email\" placeholder=\"you@example.com\" required\n               class=\"block w-full mt-1 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20 tracking-tight\" />\n      </div>\n\n      <div class=\"space-y-2\">\n        <label class=\"block text-sm font-medium text-gray-700 tracking-tight\">Health system name\n          <span class=\"text-red-500\">*</span></label>\n        <input id=\"request-healthsystem\" type=\"text\"\n               placeholder=\"Mayo Clinic, Cleveland Clinic, Kaiser Permanente\" required\n               class=\"block w-full mt-1 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20 tracking-tight\" />\n      </div>\n\n      <div class=\"space-y-2\">\n        <label class=\"block text-sm font-medium text-gray-700 tracking-tight\">Website <span\n          class=\"text-red-500\">*</span></label>\n        <input id=\"request-website\" type=\"text\" placeholder=\"www.mayoclinic.org\" required\n               class=\"block w-full mt-1 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20 tracking-tight\" />\n      </div>\n    </div>\n\n    <button type=\"submit\"\n            class=\"w-full bg-[#5B47FB] hover:bg-[#4936E8] text-white py-2 px-4 rounded-md tracking-tight font-medium\">\n      Submit\n    </button>\n  </form>\n</div>\n<!-- End Step: REQUEST FORM -->\n","import {Component, Input, OnInit} from '@angular/core';\nimport {LighthouseBrandListDisplayItem} from '../../models/lighthouse/lighthouse-source-search';\nimport {ConfigService} from '../../services/config.service';\n\n@Component({\n  selector: 'app-health-system-brand-details',\n  templateUrl: './health-system-brand-details.component.html',\n  styleUrls: ['./health-system-brand-details.component.scss']\n})\nexport class HealthSystemBrandDetailsComponent implements OnInit {\n\n  @Input() brand!: LighthouseBrandListDisplayItem;\n\n  constructor(configService: ConfigService) {\n    this.brand = configService.searchConfig$.selectedBrand!\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- Step: HEALTH SYSTEM DETAILS -->\n<div id=\"step-health-system-details\" class=\"space-y-6\">\n  <div class=\"relative flex justify-center items-center\">\n    <button [routerLink]=\"'/search'\" type=\"button\" id=\"hsd-back\"\n            class=\"absolute left-0 top-1/2 -translate-y-1/2 text-gray-700 p-2 hover:bg-gray-100 rounded-md\">\n      <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n      </svg>\n    </button>\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div class=\"space-y-6\">\n    <!-- Health System Brand Card -->\n    <div class=\"border rounded-2xl p-6\">\n      <div class=\"flex items-start space-x-4 mb-4\">\n        <div class=\"flex-shrink-0\">\n          <img class=\"w-12 h-12 rounded-lg object-contain\" imageFallback src=\"https://cdn.fastenhealth.com/logos/sources/{{brand.id}}.png\">\n        </div>\n        <div class=\"flex-1 min-w-0\">\n          <h2 id=\"hsd-name\" class=\"text-xl font-semibold\">{{brand.name}}</h2>\n        </div>\n      </div>\n\n      <p id=\"hsd-description\" class=\"text-gray-600 text-base mb-4\"></p>\n\n      <div class=\"space-y-2\">\n        <div *ngIf=\"brand.brand_website\" class=\"flex items-center gap-2 text-gray-600\" id=\"hsd-website-container\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n               stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n               class=\"lucide lucide-globe w-5 h-5\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\" />\n            <path d=\"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\" />\n            <path d=\"M2 12h20\" />\n          </svg>\n          <a id=\"hsd-website\" class=\"text-base hover:underline\" [href]=\"brand.brand_website\" target=\"_blank\" rel=\"noopener noreferrer\">{{brand.brand_website}}</a>\n        </div>\n        <div *ngIf=\"brand.portals\" class=\"flex items-center gap-2 text-gray-600\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n               stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n               class=\"lucide lucide-map-pin w-5 h-5\">\n            <path d=\"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0\" />\n            <circle cx=\"12\" cy=\"10\" r=\"3\" />\n          </svg>\n          <span id=\"hsd-location\" class=\"text-base\">{{brand.locations}}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Institutions List -->\n    <div class=\"space-y-2\" id=\"hsd-institutions-list\">\n      <ng-container *ngFor=\"let portal of brand.portals\">\n        <div *ngFor=\"let endpoint of portal.endpoints\" class=\"p-4 border rounded-lg hover:border-gray-400 transition-colors\">\n          <div class=\"flex items-center justify-between\">\n            <h4 class=\"font-medium text-base tracking-tight\">{{portal.name}}</h4>\n            <button type=\"button\" class=\"border border-[#5B47FB] text-[#5B47FB] hover:bg-[#5B47FB] hover:text-white w-8 h-8 rounded-lg text-lg font-medium transition-colors flex items-center justify-center\">+</button>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>\n<!-- End Step: HEALTH SYSTEM DETAILS -->\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-health-system-connecting',\n  templateUrl: './health-system-connecting.component.html',\n  styleUrls: ['./health-system-connecting.component.scss']\n})\nexport class HealthSystemConnectingComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- Redirect Overlay -->\n<div id=\"redirect-overlay\" class=\"flex items-center justify-center z-50 redirect-overlay-enter\">\n  <div class=\"bg-white rounded-2xl p-8 w-[90%] max-w-[360px] relative redirect-overlay-content\">\n\n\n    <div class=\"relative w-24 h-24 mx-auto mb-8 redirect-logo-container\">\n      <div class=\"absolute inset-0 bg-white rounded-2xl shadow-sm p-4\">\n        <img id=\"redirect-logo\" src=\"\" alt=\"\" class=\"w-full h-full object-contain\" />\n      </div>\n    </div>\n\n    <div class=\"text-center space-y-3\">\n      <h3 id=\"redirect-name\" class=\"text-xl font-semibold text-gray-900\"></h3>\n      <p id=\"redirect-website\" class=\"text-sm text-gray-500\" style=\"display: none;\"></p>\n\n      <div class=\"bg-[#5B47FB]/5 rounded-xl p-4 mt-6\">\n        <div class=\"redirect-dots\">\n          <div class=\"redirect-dot\"></div>\n          <div class=\"redirect-dot\"></div>\n          <div class=\"redirect-dot\"></div>\n        </div>\n        <p class=\"text-sm text-gray-600\">Redirecting to sign in...</p>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {SourceListItem} from '../../models/source-list-item';\nimport {\n  LighthouseBrandListDisplayItem,\n  LighthouseSourceSearch,\n  LighthouseSourceSearchAggregation\n} from '../../models/lighthouse/lighthouse-source-search';\nimport {Observable, of} from 'rxjs';\nimport {SearchFilter} from '../../models/search-filter';\nimport {VaultService} from '../../services/vault.service';\nimport {ApiMode} from '../../app.constants';\nimport {ConfigService} from '../../services/config.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-health-system-search',\n  templateUrl: './health-system-search.component.html',\n  styleUrls: ['./health-system-search.component.scss']\n})\nexport class HealthSystemSearchComponent implements OnInit {\n  loading = false;\n  lighthouseBrandList: SourceListItem[] = []\n\n  filter: SearchFilter = new SearchFilter()\n\n  //limits that are tied to the current result set.\n  resultLimits: {\n    totalItems: number,\n    scrollComplete: boolean,\n    platformTypesBuckets: LighthouseSourceSearchAggregation | undefined,\n    categoryBuckets: LighthouseSourceSearchAggregation | undefined,\n  } = {\n    totalItems: 0,\n    scrollComplete: false,\n    platformTypesBuckets: undefined,\n    categoryBuckets: undefined\n  }\n\n  constructor(\n    public vaultServiceApi: VaultService,\n    public configService: ConfigService,\n    public router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.querySources(true)\n  }\n\n  public querySources(reset: boolean): Observable<LighthouseSourceSearch|null> {\n    if(reset){\n      this.resetSearch()\n    }\n\n    console.log(\"querySources()\", this.filter)\n    if(this.loading){\n      console.log(\"already loading, ignoring querySources()\")\n      return of(null)\n    }\n    //TODO: pass filter to function.\n    // this.location.replaceState('/dashboard','', this.filter)\n\n    if(!this.filter){\n      this.filter = new SearchFilter()\n      console.log(\"querySources() - no filter provided, using current form value\", this.filter)\n    }\n\n\n    this.filter.fields = [\"*\"];\n    this.loading = true\n    var searchObservable = this.vaultServiceApi.searchCatalogBrands(this.configService.systemConfig$.apiMode!, this.filter);\n    searchObservable.subscribe(wrapper => {\n        console.log(\"search sources\", wrapper);\n        // this.searchResults = wrapper.hits.hits;\n        this.resultLimits.totalItems = wrapper?.hits?.total.value || 0;\n\n        this.lighthouseBrandList = this.lighthouseBrandList.concat((wrapper?.hits?.hits || []).map((result) => {\n          return {\n            brand: result._source,\n            searchHighlights: result?.highlight?.aliases || []\n          }\n        }))\n\n        //check if scroll is complete.\n        if(!wrapper?.hits || !wrapper?.hits?.hits || wrapper?.hits?.hits?.length == 0 || wrapper?.hits?.total?.value == wrapper?.hits?.hits?.length){\n          console.log(\"SCROLL_COMPLETE!@@@@@@@@\")\n          this.resultLimits.scrollComplete = true;\n        } else {\n          //change the current Page (but don't cause a new query)\n          console.log(\"SETTING NEXT SORT KEY:\", wrapper.hits.hits[wrapper.hits.hits.length - 1].sort.join(','))\n          this.filter.searchAfter = wrapper.hits.hits[wrapper.hits.hits.length - 1].sort.join(\",\")\n        }\n        this.loading = false\n      },\n      error => {\n        this.loading = false\n        console.error(\"sources FAILED\", error)\n      },\n      () => {\n        this.loading = false\n        console.log(\"sources finished\")\n      }\n    );\n    return searchObservable;\n  }\n\n  onScroll() {\n    if(!this.resultLimits.scrollComplete) {\n      this.querySources(false)\n    }\n  }\n\n  private resetSearch(){\n    console.log(\"reset search...\")\n    this.lighthouseBrandList = []\n    this.filter.searchAfter = []\n    this.resultLimits = {\n      totalItems: 0,\n      scrollComplete: false,\n      platformTypesBuckets: undefined,\n      categoryBuckets: undefined\n    }\n  }\n\n  public selectBrand(brandItem?: LighthouseBrandListDisplayItem){\n\n    this.configService.searchConfig$.selectedBrand = brandItem\n    this.router.navigate(['/brand-details'])\n    // this.messageBus.componentNavigationSubject.next({\n    //   page: ComponentNavPage.PortalConnect,\n    //   title: brandItem.name,\n    //   data: brandItem,\n    // } as ComponentNavigationEvent)\n  }\n}\n","<!-- Step: SEARCH VIEW -->\n<div id=\"step-search\" class=\"space-y-6\">\n  <div class=\"relative flex justify-center items-center\">\n    <button [routerLink]=\"'/dashboard'\"  type=\"button\" id=\"search-back\"\n            class=\"absolute left-0 top-1/2 -translate-y-1/2 text-gray-700 p-2 hover:bg-gray-100 rounded-md\">\n      <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n      </svg>\n    </button>\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div class=\"flex gap-2\">\n    <div class=\"flex-1\">\n      <input id=\"search-input\" type=\"text\" placeholder=\"Search for your health system...\"\n             [(ngModel)]=\"filter.query\"\n             (keyup)=\"querySources(true)\"\n             class=\"w-full block px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20\" />\n    </div>\n    <button id=\"search-filters\" class=\"border border-gray-200 rounded-lg w-10 h-10 flex items-center justify-center hover:border-[#5B47FB] hover:bg-[#5B47FB]/5 transition-all\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n           stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n           class=\"lucide lucide-filter w-5 h-5\">\n        <polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\" />\n      </svg>\n    </button>\n  </div>\n\n  <!-- Filter container -->\n  <div id=\"filters-container\" class=\"hidden space-y-4 p-4 border rounded-lg\">\n    <h3 class=\"font-semibold text-lg\">Filters</h3>\n\n    <!-- State filter -->\n    <div class=\"relative\">\n      <label class=\"block text-sm font-medium mb-1\">State</label>\n      <button type=\"button\" id=\"state-filter-btn\"\n              class=\"w-full flex items-center justify-between px-3 py-2 text-sm border rounded-md bg-white hover:bg-gray-50\">\n        <span id=\"state-filter-value\">All States</span>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n             stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n             class=\"h-4 w-4 opacity-50\">\n          <polyline points=\"6 9 12 15 18 9\" />\n        </svg>\n      </button>\n      <div id=\"state-filter-menu\" class=\"absolute z-10 w-full mt-1 rounded-md border bg-white shadow-lg hidden\">\n        <div class=\"py-1\">\n          <button class=\"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center justify-between\">\n            <span>All States</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"w-4 h-4 text-[#5B47FB]\">\n              <polyline points=\"20 6 9 17 4 12\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Type filter -->\n    <div class=\"relative\">\n      <label class=\"block text-sm font-medium mb-1\">Institution Type</label>\n      <button type=\"button\" id=\"type-filter-btn\"\n              class=\"w-full flex items-center justify-between px-3 py-2 text-sm border rounded-md bg-white hover:bg-gray-50\">\n        <span id=\"type-filter-value\">All Types</span>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n             stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n             class=\"h-4 w-4 opacity-50\">\n          <polyline points=\"6 9 12 15 18 9\" />\n        </svg>\n      </button>\n      <div id=\"type-filter-menu\" class=\"absolute z-10 w-full mt-1 rounded-md border bg-white shadow-lg hidden\">\n        <div class=\"py-1\">\n          <button class=\"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 flex items-center justify-between\">\n            <span>All Types</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"w-4 h-4 text-[#5B47FB]\">\n              <polyline points=\"20 6 9 17 4 12\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Search results container -->\n  <div class=\"space-y-2 overflow-scroll\" style=\"max-height:500px\" id=\"search-results\"\n       infiniteScroll\n       [infiniteScrollDistance]=\"2\"\n       [infiniteScrollThrottle]=\"50\"\n       [scrollWindow]=\"false\"\n       (scrolled)=\"onScroll()\"\n  >\n\n    <button *ngFor=\"let brand of lighthouseBrandList\" type=\"button\"\n            (click)=\"selectBrand(brand.brand)\"\n            class=\"w-full flex items-center gap-3 p-3 border rounded-lg hover:border-[#5B47FB]/30 hover:shadow-sm transition-all text-left focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20\">\n      <img imageFallback src=\"https://cdn.fastenhealth.com/logos/sources/{{brand?.brand?.id}}.png\" alt=\"{{brand?.brand?.name}}\" class=\"w-8 h-8 rounded\">\n      <div class=\"flex-1 min-w-0\">\n        <p class=\"font-semibold\">{{brand?.brand?.name}}</p>\n        <p *ngIf=\"(brand?.searchHighlights || []).length > 0\" class=\"text-sm text-gray-600\">Found match(es):\n          <span *ngFor=\"let highlight of brand?.searchHighlights\" [innerHTML]=\"highlight | safeHtml\"></span>\n        </p>\n        <p class=\"text-sm text-gray-600\">New Jersey, New York, California</p></div>\n      <div class=\"flex items-center\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n             stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n             class=\"w-5 h-5 text-gray-400\">\n          <polyline points=\"9 6 15 12 9 18\"></polyline>\n        </svg>\n      </div>\n    </button>\n\n  </div>\n\n  <div *ngIf=\"!loading && lighthouseBrandList.length == 0\" class=\"text-center py-8 space-y-4\">\n    <div class=\"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"w-8 h-8 text-gray-400\">\n        <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n        <path d=\"m21 21-4.3-4.3\"/>\n      </svg>\n    </div>\n    <h3 class=\"text-lg font-semibold\">No results found</h3>\n    <p class=\"text-gray-600\">We couldn't find any health systems matching your search.</p>\n    <button id=\"request-health-system\" class=\"text-[#5B47FB] hover:text-[#4936E8] hover:bg-[#5B47FB]/5 rounded-md px-4 py-2 transition-colors mt-2\">Request this health system</button>\n  </div>\n\n</div>\n<!-- End Step: SEARCH VIEW -->\n","import { Component, OnInit } from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\nimport {VaultService} from '../../services/vault.service';\n\n@Component({\n  selector: 'app-identity-verification',\n  templateUrl: './identity-verification.component.html',\n  styleUrls: ['./identity-verification.component.scss']\n})\nexport class IdentityVerificationComponent implements OnInit {\n\n  constructor(\n    private vaultService: VaultService,\n\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  verifyIdentity(){\n    this.vaultService.verificationWithPopup().subscribe((result)=>{\n      console.log(\"verification result\", result)\n    })\n  }\n}\n","<!-- Step: VERIFICATION -->\n<div class=\"space-y-6 text-center\">\n  <div class=\"flex justify-center items-center\">\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div class=\"space-y-2\">\n    <h2 class=\"text-xl font-semibold\">\n      Verify your identity<br/>just once\n    </h2>\n    <p id=\"verification-hint\" class=\"text-sm text-gray-600\">\n      Your leaving Acme Labs to verify your identity with our partner, Clear.\n      This one-time step will bring you right back after your ID has been verified.\n    </p>\n  </div>\n\n\n  <div class=\"space-y-2\">\n    <button (click)=\"verifyIdentity()\" type=\"button\" class=\"btn btn-primary w-full\">\n      Continue\n    </button>\n  </div>\n</div>\n<!-- End Step: VERIFICATION -->\n","import { Component, OnInit } from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AuthService} from '../../services/auth.service';\n\n@Component({\n  selector: 'app-vault-profile-signin-code',\n  templateUrl: './vault-profile-signin-code.component.html',\n  styleUrls: ['./vault-profile-signin-code.component.scss']\n})\nexport class VaultProfileSigninCodeComponent implements OnInit {\n  loading: boolean = false\n  errorMsg: string = \"\"\n\n  currentEmail = \"\"\n\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n  ) {\n    // @ts-ignore\n    this.currentEmail = this.router.getCurrentNavigation().extras?.state?.[\"email\"] || 'test@example.com'\n  }\n\n  ngOnInit(): void {\n  }\n\n  onCodeCompleted(code: string){\n    this.loading = true\n\n    console.log(\"submit finish\", this.currentEmail, code)\n    this.authService.VaultAuthFinish(this.currentEmail, code)\n      .then(() => {\n        this.loading = false\n        this.router.navigateByUrl('/dashboard', {state: {  } })\n      })\n      .catch((err)=>{\n        this.loading = false\n        if(err?.name){\n          this.errorMsg = \"code is incorrect\"\n        } else{\n          this.errorMsg = \"an unknown error occurred during sign-in\"\n        }\n        // const toastNotification = new ToastNotification()\n        // toastNotification.type = ToastType.Error\n        // toastNotification.message = this.errorMsg\n        // this.toastService.show(toastNotification)\n      })\n  }\n\n}\n","<!-- Step: VERIFICATION -->\n<div class=\"space-y-6 text-center\">\n  <div class=\"flex justify-center items-center\">\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div class=\"space-y-2\">\n    <h2 class=\"text-xl font-semibold\">\n      Enter authentication code<br />from your email\n    </h2>\n    <p id=\"verification-hint\" class=\"text-sm text-gray-600\">\n      A code was sent to <span>{{currentEmail}}</span>\n    </p>\n  </div>\n\n  <div class=\"flex justify-center space-x-2\" id=\"verification-inputs\">\n    <code-input [isCodeHidden]=\"false\"\n                [codeLength]=\"6\"\n                (codeCompleted)=\"onCodeCompleted($event)\">\n    </code-input>\n  </div>\n\n  <p id=\"verification-error\" class=\"text-sm text-red-500\" style=\"display: none;\"></p>\n\n  <div class=\"text-sm text-gray-600\">\n    Code expires in\n    <span id=\"verification-countdown\" class=\"font-semibold text-gray-900\">4:59</span>\n  </div>\n\n  <div class=\"space-y-2\">\n    <button type=\"button\" id=\"resend-code\"\n            class=\"verification-button\">\n      Re-send code\n    </button>\n    <button type=\"button\" id=\"use-other-method\"\n            class=\"verification-button\">\n      Use another verification method\n    </button>\n  </div>\n</div>\n<!-- End Step: VERIFICATION -->\n","import {Component, OnInit} from '@angular/core';\nimport {VaultProfile} from '../../models/fasten/vaultProfile';\nimport {Router} from '@angular/router';\nimport {AuthService} from '../../services/auth.service';\n\n@Component({\n  selector: 'app-auth-signin',\n  templateUrl: './vault-profile-signin.component.html',\n  styleUrls: ['./vault-profile-signin.component.scss']\n})\nexport class VaultProfileSigninComponent implements OnInit {\n  loading: boolean = false\n  showMessage: boolean = false\n\n  submitted: boolean = false\n  existingVaultProfile: VaultProfile = new VaultProfile()\n  errorMsg: string = \"\"\n  message: string = \"\"\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n  ) { }\n\n  ngOnInit(): void {\n    const urlParams = new URLSearchParams(window.location.search);\n    this.setMessage(urlParams.get('action') || \"\")\n\n  }\n\n  signinSubmit(){\n    this.submitted = true;\n    this.loading = true\n\n    console.log(\"Signin\", this.existingVaultProfile.email)\n    this.authService.VaultAuthBegin(this.existingVaultProfile.email!)\n      .then(() => {\n        this.loading = false\n        this.router.navigateByUrl('/auth/signin/code', {state: { email: this.existingVaultProfile.email } })\n      })\n      .catch((err)=>{\n        this.loading = false\n        if(err?.name){\n          this.errorMsg = \"email or password is incorrect\"\n        } else{\n          this.errorMsg = \"an unknown error occurred during sign-in\"\n        }\n        // const toastNotification = new ToastNotification()\n        // toastNotification.type = ToastType.Error\n        // toastNotification.message = this.errorMsg\n        // this.toastService.show(toastNotification)\n      })\n  }\n\n  setMessage(action: string) {\n    if (action === \"email-changed\"){\n      this.showMessage = true;\n      this.message = \"Email successfully changed! Please sign in with your new email.\";\n    } else if (action === \"password-changed\"){\n      this.showMessage = true;\n      this.message = \"Password successfully changed! Please sign in with your new password.\";\n    }\n  }\n}\n","<!-- Step: INITIAL -->\n<div id=\"step-initial\" class=\"space-y-6\">\n  <div class=\"flex justify-center items-center\">\n    <h1 class=\"az-logo\">fasten</h1>\n  </div>\n\n  <div class=\"flex items-center justify-center space-x-4\">\n    <div class=\"w-10 h-10 text-[#5B47FB]\">\n      <svg viewBox=\"0 0 40 40\" fill=\"none\">\n        <rect width=\"40\" height=\"40\" rx=\"8\" fill=\"currentColor\" />\n        <path d=\"M20 12V28M12 20H28\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\"\n              stroke-linejoin=\"round\" />\n        <path d=\"M12 12L28 28M28 12L12 28\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\"\n              stroke-linejoin=\"round\" opacity=\"0.2\" />\n      </svg>\n    </div>\n\n    <div class=\"flex space-x-1\">\n      <div class=\"w-2 h-2 bg-[#5B47FB] rounded-full animate-pulse-flow delay-100\"></div>\n      <div class=\"w-2 h-2 bg-[#5B47FB] rounded-full animate-pulse-flow delay-200\"></div>\n      <div class=\"w-2 h-2 bg-[#5B47FB] rounded-full animate-pulse-flow delay-300\"></div>\n    </div>\n\n    <img src=\"https://logo.clearbit.com/fastenhealth.com\" alt=\"Fasten Health Logo\" class=\"w-10 h-10 rounded-lg\"\n         onerror=\"this.outerHTML='<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'24\\' height=\\'24\\' viewBox=\\'0 0 24 24\\' fill=\\'none\\' stroke=\\'currentColor\\' stroke-width=\\'2\\' stroke-linecap=\\'round\\' stroke-linejoin=\\'round\\' class=\\'lucide lucide-hospital w-10 h-10\\'><path d=\\'M12 6v4\\'/><path d=\\'M14 14h-4\\'/><path d=\\'M14 18h-4\\'/><path d=\\'M14 8h-4\\'/><path d=\\'M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2\\'/><path d=\\'M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18\\'/></svg>'\" />\n  </div>\n\n  <div class=\"text-center space-y-2\">\n    <h2 class=\"text-xl font-bold\">Connect Your Health Records</h2>\n    <p class=\"text-sm text-gray-600\">\n      Acme Labs uses Fasten to securely link your health systems\n    </p>\n  </div>\n\n  <div class=\"space-y-4\">\n    <!-- Safe Card -->\n    <div class=\"flex items-start space-x-4 p-4 border rounded-lg hover:shadow-sm transition-shadow hover:border-[#5B47FB]/30\">\n      <div class=\"p-2 bg-purple-50 rounded-full\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n             stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\n             class=\"lucide lucide-shield w-5 h-5 text-[#5B47FB]\">\n          <path d=\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01\n                C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1\n                c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0\n                C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\" />\n        </svg>\n      </div>\n      <div>\n        <h3 class=\"font-semibold\">Safe</h3>\n        <p class=\"text-sm text-gray-600\">\n          Securely connect your medical records with bank-level encryption\n        </p>\n      </div>\n    </div>\n\n    <!-- Private Card -->\n    <div class=\"flex items-start space-x-4 p-4 border rounded-lg hover:shadow-sm transition-shadow hover:border-[#5B47FB]/30\">\n      <div class=\"p-2 bg-purple-50 rounded-full\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-lock w-5 h-5 text-[#5B47FB]\"><rect width=\"18\" height=\"11\" x=\"3\" y=\"11\" rx=\"2\" ry=\"2\"/><path d=\"M7 11V7a5 5 0 0 1 10 0v4\"/></svg>\n      </div>\n      <div>\n        <h3 class=\"font-semibold\">Private</h3>\n        <p class=\"text-sm text-gray-600\">\n          We never sell your personal info and only use it with your\n          permission\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <form (ngSubmit)=\"signinSubmit()\" #vaultProfileForm=\"ngForm\" class=\"space-y-6\">\n    <label class=\"block text-sm font-medium text-gray-700\">Email address</label>\n    <input [(ngModel)]=\"existingVaultProfile.email\" name=\"email\" #email=\"ngModel\" required email minlength=\"4\" type=\"email\" placeholder=\"you@example.com\"\n           class=\"block w-full mt-2 px-3 py-2 text-base rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#5B47FB] focus:ring-opacity-20\"/>\n    <p id=\"initialError\" class=\"text-sm text-red-500\" *ngIf=\"email.invalid && (email.dirty || email.touched)\">\n        <span *ngIf=\"email.errors?.['required']\">\n          Email is required.\n        </span>\n      <span *ngIf=\"email.errors?.['minlength']\">\n          Email must be at least 4 characters long.\n        </span>\n      <span *ngIf=\"email.errors?.['email']\">\n          Email must be a valid email address.\n        </span>\n      <span *ngIf=\"errorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">\n          <strong>Error</strong> {{errorMsg}}\n        </span>\n    </p>\n\n    <p class=\"text-xs text-gray-400 text-center\">\n      By clicking continue you agree to Fasten's\n      <a href=\"#\" class=\"text-gray-500 hover:text-gray-600 underline\">Privacy Policy</a>\n      and Acme Labs'\n      <a href=\"#\" class=\"text-gray-500 hover:text-gray-600 underline\">Privacy Policy</a>\n    </p>\n\n    <button [disabled]=\"!vaultProfileForm.form.valid || loading\" type=\"submit\" class=\"w-full bg-[#5B47FB] hover:bg-[#4936E8] text-white font-medium py-2.5 px-4 rounded-md\">\n      Continue\n      <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n    </button>\n\n  </form>\n</div>\n<!-- End Step: INITIAL -->\n\n<!--<section class=\"step-panel showing\" id=\"step-initial\">-->\n<!--  <div class=\"brand-header brand-fast\">-->\n<!--    <h1 class=\"brand-title\">fasten</h1>-->\n<!--  </div>-->\n<!--  <div class=\"initial-view-content\">-->\n<!--    <div class=\"logos-row\">-->\n<!--      <div class=\"medical-logo\">-->\n<!--        <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\">-->\n<!--          <rect width=\"40\" height=\"40\" rx=\"8\" fill=\"#5B47FB\"></rect>-->\n<!--          <path d=\"M20 12V28M12 20H28\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\"-->\n<!--                stroke-linejoin=\"round\"></path>-->\n<!--          <path d=\"M12 12L28 28M28 12L12 28\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\"-->\n<!--                stroke-linejoin=\"round\" opacity=\"0.2\"></path>-->\n<!--        </svg>-->\n<!--      </div>-->\n<!--      <div class=\"bubbles-row\">-->\n<!--        <div class=\"bubble\"></div>-->\n<!--        <div class=\"bubble\"></div>-->\n<!--        <div class=\"bubble\"></div>-->\n<!--      </div>-->\n<!--      <div class=\"clearbit-logo-container\">-->\n<!--        <img src=\"assets/images/banner-transparent-trim.png\" alt=\"Fasten Connect\" class=\"clearbit-logo\" />-->\n<!--      </div>-->\n<!--    </div>-->\n\n<!--    <h2 class=\"title-large\">Connect Your Health Records</h2>-->\n<!--    <p class=\"paragraph\">Acme Labs uses Fasten to securely link your health systems</p>-->\n\n<!--    <div class=\"info-cards\">-->\n<!--      <div class=\"info-card\">-->\n<!--        <div class=\"info-card-icon\">-->\n<!--          <div class=\"icon-wrapper bg-brand-purple-faded\">-->\n<!--            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon-shield\" viewBox=\"0 0 24 24\" fill=\"none\">-->\n<!--              <path d=\"M12 2L3 5V11C3 16.52 7.03 21.75 12 23C16.97 21.75 21 16.52 21 11V5L12 2Z\" stroke=\"#5B47FB\"-->\n<!--                    stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />-->\n<!--            </svg>-->\n<!--          </div>-->\n<!--        </div>-->\n<!--        <div>-->\n<!--          <h3 class=\"info-title\">Safe</h3>-->\n<!--          <p class=\"info-desc\">-->\n<!--            Securely connect your medical records with bank-level encryption-->\n<!--          </p>-->\n<!--        </div>-->\n<!--      </div>-->\n\n<!--      <div class=\"info-card\">-->\n<!--        <div class=\"info-card-icon\">-->\n<!--          <div class=\"icon-wrapper bg-brand-purple-faded\">-->\n<!--            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon-lock\" viewBox=\"0 0 24 24\" fill=\"none\">-->\n<!--              <path-->\n<!--                d=\"M16 10V7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7V10M6 10H18C19.1 10 20 10.9 20 12V19C20 20.1 19.1 21 18 21H6C4.9 21 4 20.1 4 19V12C4 10.9 4.9 10 6 10Z\"-->\n<!--                stroke=\"#5B47FB\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />-->\n<!--            </svg>-->\n<!--          </div>-->\n<!--        </div>-->\n<!--        <div>-->\n<!--          <h3 class=\"info-title\">Private</h3>-->\n<!--          <p class=\"info-desc\">-->\n<!--            We never sell your personal info and only use it with your permission-->\n<!--          </p>-->\n<!--        </div>-->\n<!--      </div>-->\n<!--    </div>-->\n\n<!--    -->\n<!--  </div>-->\n<!--</section>-->\n\n<!--<div *ngIf=\"showMessage\" class=\"az-signin-message\">-->\n<!--  {{message}}-->\n<!--</div>-->\n\n\n<!--      <form (ngSubmit)=\"signinSubmit()\" #vaultProfileForm=\"ngForm\">-->\n<!--        <div class=\"form-group\">-->\n<!--          <label>Email</label>-->\n<!--          <input [(ngModel)]=\"existingVaultProfile.email\" name=\"email\" #email=\"ngModel\" required email minlength=\"4\" type=\"text\" class=\"form-control\" placeholder=\"Enter your email address\">-->\n\n\n<!--        </div>&lt;!&ndash; form-group &ndash;&gt;-->\n<!--        <button [disabled]=\"!vaultProfileForm.form.valid || loading\" type=\"submit\" class=\"btn btn-az-primary btn-block\">-->\n<!--          Continue-->\n<!--          <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>-->\n<!--        </button>-->\n\n<!--        <div *ngIf=\"errorMsg\" class=\"alert alert-danger mt-3\" role=\"alert\">-->\n<!--          <strong>Error</strong> {{errorMsg}}-->\n<!--        </div>-->\n<!--      </form>-->\n\n<!--    </div>&lt;!&ndash; az-signin-header &ndash;&gt;-->\n<!--  </div>&lt;!&ndash; az-card-signin &ndash;&gt;-->\n<!--</div>&lt;!&ndash; az-signin-wrapper &ndash;&gt;-->\n","import { Pipe, PipeTransform } from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safeHtml'\n})\nexport class SafeHtmlPipe implements PipeTransform {\n  constructor(private sanitizer:DomSanitizer){}\n\n  transform(value: any, args?: any): any {\n    return this.sanitizer.bypassSecurityTrustHtml(value);\n    // return this.sanitizer.bypassSecurityTrustStyle(style);\n    // return this.sanitizer.bypassSecurityTrustXxx(style); - see docs\n  }\n\n}\n","import { Injectable, Injector } from '@angular/core';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Router} from '@angular/router';\nimport {Observable, of, throwError} from 'rxjs';\nimport {catchError} from 'rxjs/operators';\nimport {AuthService} from './auth.service';\nimport {environment} from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\n\n// based on https://stackoverflow.com/questions/46017245/how-to-handle-unauthorized-requestsstatus-with-401-or-403-with-new-httpclient\nexport class AuthInterceptorService implements HttpInterceptor {\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  private handleAuthError(err: HttpErrorResponse): Observable<any> {\n    //handle your auth error or rethrow\n    if (err.status === 401 || err.status === 403) {\n      //navigate /delete cookies or whatever\n      this.authService.Signout()\n      this.router.navigateByUrl(`/auth/signin`);\n      // if you've caught / handled the error, you don't want to rethrow it unless you also want downstream consumers to have to handle it as well.\n      return of(err.message); // or EMPTY may be appropriate here\n    }\n    return throwError(err);\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    console.log(\"Intercepting Request\", req)\n\n    //only intercept requests to the fasten API & lighthouse, all other requests should be sent as-is\n    let reqUrl = new URL(req.url)\n    let lighthouseUrl = new URL(environment.lighthouse_api_endpoint_base)\n    let apiUrl = new URL(environment.connect_api_endpoint_base)\n\n    if(\n      !((reqUrl.origin == apiUrl.origin && reqUrl.pathname.startsWith(apiUrl.pathname)) ||\n        (reqUrl.origin == lighthouseUrl.origin && reqUrl.pathname.startsWith(lighthouseUrl.pathname)))\n    ){\n      return next.handle(req)\n    }\n\n    // Clone the request and ensure that cookies are sent\n    const authReq = req.clone({withCredentials: true});\n    // catch the error, make specific functions for catching specific errors and you can chain through them with more catch operators\n    return next.handle(authReq).pipe(catchError(x=> this.handleAuthError(x))); //here use an arrow function, otherwise you may get \"Cannot read property 'navigate' of undefined\" on angular 4.4.2/net core 2/webpack 2.70\n  }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {VaultProfile} from '../models/fasten/vaultProfile';\nimport {environment} from '../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {ResponseWrapper} from '../models/response-wrapper';\nimport {BehaviorSubject} from 'rxjs';\nimport * as jose from 'jose'\nimport {ConfigService} from './config.service';\nimport {ORG_CREDENTIAL_PUBLIC_ID} from '../app.constants';\n\nexport const FASTEN_AUTH_VAULT_COOKIE_NAME = 'fasten_connect_auth_vault'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n\n  public IsAuthenticatedSubject = new BehaviorSubject<boolean>(false)\n\n  constructor(private _httpClient: HttpClient, private vaultConfigService: ConfigService) {}\n\n\n\n\n  public async VaultAuthBegin(email: string): Promise<any> {\n    let resp = await this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/bridge/vault_auth_begin`, {\n      \"email\": email,\n    }, { withCredentials: true, params: {\"public_id\": ORG_CREDENTIAL_PUBLIC_ID} }).toPromise()\n    return resp\n  }\n\n  public async VaultAuthFinish(email: string, code: string): Promise<any> {\n    let resp = await this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/bridge/vault_auth_finish`, {\n      \"email\": email,\n      \"code\": code\n    }, { withCredentials: true, params: {\"public_id\": ORG_CREDENTIAL_PUBLIC_ID} }).toPromise()\n    return resp\n  }\n\n  public async Signout(): Promise<any> {\n    this.publishAuthenticationState(false)\n    return this.deleteCookie(FASTEN_AUTH_VAULT_COOKIE_NAME)\n    // // let remotePouchDb = new PouchDB(this.getRemoteUserDb(localStorage.getItem(\"current_user\")), {skip_setup: true});\n    // if(this.pouchDb){\n    //   await this.pouchDb.logOut()\n    // }\n    // await this.Close()\n  }\n\n\n  public async GetJWTPayload(): Promise<any> {\n    let authToken = this.getCookie(FASTEN_AUTH_VAULT_COOKIE_NAME)\n    if (!authToken) {\n      return null\n    }\n    let jwks = jose.createRemoteJWKSet(new URL(environment.jwks_uri))\n    let issuerHost = environment.connect_api_jwt_issuer_host\n\n    try {\n      //audience and issuer must be the same. This token is only valid on the fasten connect api\n      const {payload, protectedHeader} = await jose.jwtVerify(authToken, jwks, {\n        issuer: issuerHost,\n        audience: issuerHost,\n      })\n      // @ts-ignore\n      this.vaultConfigService.systemConfig = {user: payload}\n      return payload\n    } catch (e) {\n      console.error(\"failed to verify jwt:\", e, issuerHost)\n      return null\n    }\n  }\n\n  public async IsAuthenticated(): Promise<boolean> {\n    let payload = await this.GetJWTPayload()\n    let isAuthenticated = payload != null\n    this.publishAuthenticationState(isAuthenticated)\n    return isAuthenticated\n  }\n\n  //https://stackoverflow.com/questions/34298133/angular-cookies\n  private getCookie(name: string): string {\n    const ca: Array<string> = decodeURIComponent(document.cookie).split(';');\n    const caLen: number = ca.length;\n    const cookieName = `${name}=`;\n    let c: string;\n\n    for (let i  = 0; i < caLen; i += 1) {\n      c = ca[i].replace(/^\\s+/g, '');\n      if (c.indexOf(cookieName) === 0) {\n        return c.substring(cookieName.length, c.length);\n      }\n    }\n    return '';\n  }\n\n  private deleteCookie(name: string) {\n    this.setCookie(name, '', -99999); // - 1 was not far back enough to actually remove the cookie, this sets the time before the epoch and will cause the cookie to be deleted.\n  }\n  private setCookie(name: string, value: string, expireDays: number, path: string = '') {\n    const d: Date = new Date();\n    d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);\n    const expires = `expires=${d.toUTCString()}`;\n    const cpath = path ? `; path=${path}` : '';\n    document.cookie = `${name}=${value}; ${expires}${cpath}; SameSite=Lax`;\n  }\n\n  private publishAuthenticationState(authenticated: boolean){\n    if(this.IsAuthenticatedSubject.value != authenticated){\n      this.IsAuthenticatedSubject.next(authenticated)\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {VaultSystemConfig, vaultConfigDefaults, VaultSearchConfig, VaultProfileConfig} from '../models/vault-config';\nimport {merge} from 'lodash';\nimport {ApiMode} from '../app.constants';\nimport {VaultProfile} from '../models/fasten/vaultProfile';\nimport {Organization} from '../models/fasten/organization';\nimport {VaultService} from './vault.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigService {\n  //TODO: there should be 3 types of \"config\" settings:\n  // 1. Service settings\n  // - apiMode\n  // - organization information\n  // - org credential information\n  // - reconnect id.\n  // 2. User settings\n  // - user token/cookie data\n  // - vault profile\n  // - current connected patient auth's\n  // - (FUTURE) potential patient auths?\n  // 3. Search settings\n  // - search filters\n  // - selected brand\n  // -\n\n\n\n\n  // Private\n  private systemConfigSubject: BehaviorSubject<VaultSystemConfig>;\n  private vaultProfileConfigSubject: BehaviorSubject<VaultProfileConfig>;\n  private searchConfigSubject: BehaviorSubject<VaultSearchConfig>;\n\n\n  private _defaultSystemConfig: VaultSystemConfig;\n\n\n  constructor(\n    vaultApi: VaultService\n  ) {\n    this._defaultSystemConfig = vaultConfigDefaults\n    this.systemConfigSubject = new BehaviorSubject(this._defaultSystemConfig);\n    this.vaultProfileConfigSubject = new BehaviorSubject({} as VaultProfileConfig);\n    this.searchConfigSubject = new BehaviorSubject({} as VaultSearchConfig);\n\n\n    //always watch for changes to the vault\n    this.subscribeSystemConfig((systemConfig: VaultSystemConfig) => {\n      console.log(\"System configuration changed:\", systemConfig, this.systemConfig$)\n      if(systemConfig.org_id && !systemConfig.org){\n        console.log(\"attempt to download org information, and store in config\")\n        vaultApi.getOrg(systemConfig.org_id).subscribe((org: Organization )=>{\n          console.log(\"org:\", org)\n          this.systemConfig = {org: org}\n        })\n      }\n    });\n  }\n\n\n  // -----------------------------------------------------------------------------------------------------\n  // @ Accessors\n  // -----------------------------------------------------------------------------------------------------\n\n  /**\n   * Setter & getter for config\n   */\n  public subscribeSystemConfig(callback: (config: VaultSystemConfig) => void) {\n    this.systemConfigSubject.subscribe(callback);\n  }\n  //Setter\n  set systemConfig(value: VaultSystemConfig) {\n    // get the current config, merge the new values, and then submit.\n    const mergedSettings = merge({}, this.systemConfigSubject.getValue(), value);\n\n    // Store the value\n    if(JSON.stringify(mergedSettings) !== JSON.stringify(this.systemConfigSubject.getValue())){\n      console.log('updating system settings:', mergedSettings)\n      this.systemConfigSubject.next(mergedSettings);\n    }\n  }\n\n  //Getter\n  get systemConfig$(): VaultSystemConfig {\n    console.log('getting cached system settings:', this.systemConfigSubject.getValue())\n    return this.systemConfigSubject.getValue()\n  }\n\n  public subscribeVaultProfileConfig(callback: (config: VaultProfileConfig) => void) {\n    this.vaultProfileConfigSubject.subscribe(callback);\n  }\n  //Setter\n  set vaultProfileConfig(value: VaultProfileConfig) {\n    // get the current config, merge the new values, and then submit.\n    const mergedSettings = merge({}, this.vaultProfileConfigSubject.getValue(), value);\n\n    // Store the value\n    if(JSON.stringify(mergedSettings) !== JSON.stringify(this.vaultProfileConfigSubject.getValue())){\n      console.log('updating vault profile settings:', mergedSettings)\n      this.vaultProfileConfigSubject.next(mergedSettings);\n    }\n  }\n  //Getter\n  get vaultProfileConfig$(): VaultProfileConfig {\n    console.log('getting vault profile settings:', this.vaultProfileConfigSubject.getValue())\n    return this.vaultProfileConfigSubject.getValue()\n  }\n\n  public subscribeSearchConfig(callback: (config: VaultSearchConfig) => void) {\n    this.searchConfigSubject.subscribe(callback);\n  }\n  //Setter\n  set searchConfig(value: VaultSearchConfig) {\n    // get the current config, merge the new values, and then submit.\n    const mergedSettings = merge({}, this.searchConfigSubject.getValue(), value);\n\n    // Store the value\n    if(JSON.stringify(mergedSettings) !== JSON.stringify(this.searchConfigSubject.getValue())){\n      console.log('updating search settings:', mergedSettings)\n      this.searchConfigSubject.next(mergedSettings);\n    }\n  }\n  //Getter\n  get searchConfig$(): VaultSearchConfig {\n    console.log('getting search settings:', this.searchConfigSubject.getValue())\n    return this.searchConfigSubject.getValue()\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ResponseWrapper } from '../models/response-wrapper';\nimport { environment } from '../../environments/environment';\nimport { Organization } from '../models/fasten/organization';\nimport { ApiMode } from '../app.constants';\nimport { OrganizationCredential } from '../models/fasten/organization-credential';\nimport { VaultProfile } from \"../models/fasten/vaultProfile\";\nimport {catchError, concatMap, filter, first, fromEvent, map, Observable, of, throwError, timeout} from 'rxjs';\nimport { DeviceDetectorService } from 'ngx-device-detector';\nimport {ORG_CREDENTIAL_PUBLIC_ID} from '../app.constants';\nimport {SearchFilter} from '../models/search-filter';\nimport {LighthouseSourceSearch} from '../models/lighthouse/lighthouse-source-search';\nimport {FormRequestHealthSystem} from '../models/forms/form-request-health-system';\n\nexport const ConnectWindowTimeout = 2*60*1000 //wait 2 minutes (in milliseconds)\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VaultService {\n\n  constructor(\n    private _httpClient: HttpClient,\n    private deviceService: DeviceDetectorService\n  ) { }\n\n\n\n\n  // public verificationWithPopup(publicId: string, brandId: string, portalId: string, endpointId: string, reconnectOrgConnectionId?: string, connectMode?: ConnectMode, externalId?: string, externalState?: string): Observable<OrganizationConnectionCallbackEvent> {\n  public verificationWithPopup(): Observable<any> {\n    //todo, this should use a bridge/connect or vault endpoint\n\n    const redirectUrl = new URL(`${environment.connect_api_endpoint_base}/bridge/identity_verification/connect`);\n    redirectUrl.searchParams.set(\"public_id\", ORG_CREDENTIAL_PUBLIC_ID);\n\n\n    const isDesktop = this.deviceService.isDesktop();\n    var features = \"\"\n    if(isDesktop){\n      //add optons for window.open, popup only for desktop (mobile and table will open a new tab)\n      features = \"popup=true,width=700,height=600\"\n    }\n\n    //open a external url in a new window\n    let openedWindow = window.open(redirectUrl.toString(), \"_blank\");\n\n    return this.waitForOrgConnectionOrTimeout(openedWindow!)\n  }\n\n\n\n  //This function must be \".subscribed()\" to work. If not, the handler will not be registered and messages will be ignored.\n  private waitForOrgConnectionOrTimeout(openedWindow: Window): Observable<any> {\n    console.log(`waiting for postMessage notification from popup window`)\n\n    //new code to listen to post message\n    return fromEvent(window, 'message')\n      .pipe(\n        //throw an error if we wait more than 2 minutes (this will close the window)\n        timeout(ConnectWindowTimeout) as any,\n        //make sure we're only listening to events from the \"opened\" window.\n        filter((event: MessageEvent) => event.source == openedWindow),\n        //after filtering, we should only have one event to handle.\n        first(),\n        map((event: any) => {\n          console.log(`received postMessage notification from popup window & sending acknowledgment`)\n          // @ts-ignore\n          event.source.postMessage(JSON.stringify({close:true}), event.origin);\n          console.log(\"postmessage data\", event.data)\n          return JSON.parse(event.data)\n        }),\n        catchError((err) => {\n          console.warn(`timed out waiting for notification from popup (${ConnectWindowTimeout/1000}s), closing window`)\n          openedWindow.self.close()\n          return throwError(err)\n        })\n      )\n  }\n\n  public getRecordLocator(): Observable<any> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/bridge/record_locator`, {params: {\"public_id\": ORG_CREDENTIAL_PUBLIC_ID}})\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Record Locator Response\", response)\n          return response.data as Organization;\n        })\n      );\n  }\n\n  public searchCatalogBrands(apiMode: ApiMode, filter: SearchFilter): Observable<LighthouseSourceSearch> {\n    if((typeof filter.searchAfter === 'string' || filter.searchAfter instanceof String) && (filter.searchAfter as string).length > 0){\n      filter.searchAfter = (filter.searchAfter as string).split(',')\n    } else {\n      filter.searchAfter = []\n    }\n    const endpointUrl = new URL(`${environment.connect_api_endpoint_base}/bridge/catalog/search`);\n\n    return this._httpClient.post<ResponseWrapper>(endpointUrl.toString(), filter, {params: {\n        'api_mode': apiMode\n      }})\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Metadata RESPONSE\", response)\n          return response.data as LighthouseSourceSearch\n        })\n      );\n  }\n\n  public getOrg(orgId: String): Observable<Organization> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization\", response)\n          return response.data as Organization;\n        })\n      );\n  }\n\n  requestHealthSystem(requestHealth: FormRequestHealthSystem): Observable<any> {\n    const endpointUrl = new URL(`${environment.connect_api_endpoint_base}/support/healthsystem`);\n\n    return this._httpClient.post<any>(endpointUrl.toString(), requestHealth)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          // @ts-ignore\n          return {}\n        })\n      );\n  }\n\n  //OLD code\n\n\n  public updateUser(oldPass: string, oldEmail: string, newEmail: string, newPass: string = \"\"): Observable<VaultProfile> {\n    const userUpdateJson = JSON.stringify({\n      email: oldEmail,\n      password: oldPass,\n      newEmail: newEmail,\n      newPassword: newPass\n    });\n    return this._httpClient.put<ResponseWrapper>(`${environment.connect_api_endpoint_base}/user`, userUpdateJson)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Updated User\", response)\n\n          return response.data as VaultProfile;\n        })\n      );\n  }\n\n  /**\n   * Create a new organization and associate it with the current User\n   * @param newOrg\n   * @param logoBlob\n   * @constructor\n   */\n  public createOrg(newOrg: Organization, logoBlob: Blob): Observable<ResponseWrapper> {\n    const formData = new FormData();\n\n    //add the org data to the form data\n    const orgJson = JSON.stringify(newOrg);\n    const orgJsonBlob = new Blob([orgJson], {\n      type: 'application/json'\n    });\n    formData.append(\"org\", orgJsonBlob);\n    formData.append(\"logo\", logoBlob);\n\n    let resp = this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org`, formData)\n    console.log(resp)\n    return resp\n  }\n\n\n  public updateOrg(orgId: string, updateOrg: Organization, logoBlob?: Blob | null): Observable<Organization> {\n    const formData = new FormData();\n\n    //add the org data to the form data\n    const orgJson = JSON.stringify(updateOrg);\n    const orgJsonBlob = new Blob([orgJson], {\n      type: 'application/json'\n    });\n    formData.append(\"org\", orgJsonBlob);\n    if (logoBlob) {\n      formData.append(\"logo\", logoBlob);\n    }\n    return this._httpClient.put<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}`, formData)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Updated Organization\", response)\n          return response.data as Organization;\n        })\n      );\n  }\n\n  public sendOrgInvite(orgId: string, recipientEmail: string): Observable<ResponseWrapper> {\n    return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/invite`, {\n      recipient_email_address: recipientEmail,\n      org_id: orgId\n    })\n  }\n\n  // public createOrgCredentials(orgId: string, apiMode: ApiMode, redirectUrl: string, note: string): Observable<{ action: CRUDMode, org_credential: OrganizationCredential, private_key: string }> {\n  //   return this._httpClient.post<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/credentials`, {\n  //     api_mode: apiMode,\n  //     redirect_uri: redirectUrl,\n  //     note: note\n  //   })\n  //     .pipe(\n  //       map((response: ResponseWrapper) => {\n  //         console.log(\"Organization Credential\", response)\n  //         response.data.action = CRUDMode.Create\n  //         return response.data as { action: CRUDMode, org_credential: OrganizationCredential, private_key: string };\n  //       })\n  //     );\n  // }\n\n  public getOrgCredentials(orgId: string): Observable<OrganizationCredential[]> {\n    return this._httpClient.get<ResponseWrapper>(`${environment.connect_api_endpoint_base}/org/${orgId}/credentials`)\n      .pipe(\n        map((response: ResponseWrapper) => {\n          console.log(\"Organization Credentials\", response)\n          return response.data as OrganizationCredential[];\n        })\n      );\n  }\n\n\n\n\n\n\n\n\n\n}\n","export const environment = {\n  name: \"development\",\n\n  //specify the lighthouse base that we're going to use to authenticate against all our source/providers. Must not have trailing slash\n  lighthouse_api_endpoint_base: 'https://lighthouse.fastenhealth.com',\n\n  //used to specify the api server that we're going to use (can be relative or absolute). Must not have trailing slash\n  // connect_api_endpoint_base: 'https://api.connect-dev.fastenhealth.com/v1',\n  // if relative, must start with /\n  connect_api_endpoint_base: 'https://api.connect-dev.fastenhealth.com/v1',\n  connect_api_jwt_issuer_host: 'https://api.connect-dev.fastenhealth.com/v1',\n\n  jwks_uri: 'https://cdn.fastenhealth.com/jwks/fasten-connect/dev.json',\n\n  //Stripe pricing table (Test mode in Dev)\n  stripe_customer_portal: 'https://billing.stripe.com/p/login/test_bIY7thbZL5g6gXC000'\n  // stripe_customer_portal: 'https://billing.stripe.com/p/login/dR6aEYe5h4AYe2I144'\n};\n","// this file is automatically generated by git.version.ts script\nexport const versionInfo = {\n  version: 'dev',\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.name != \"local\") {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","var map = {\n\t\"./af\": 8685,\n\t\"./af.js\": 8685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 2614,\n\t\"./ar-kw.js\": 2614,\n\t\"./ar-ly\": 8630,\n\t\"./ar-ly.js\": 8630,\n\t\"./ar-ma\": 8674,\n\t\"./ar-ma.js\": 8674,\n\t\"./ar-ps\": 6235,\n\t\"./ar-ps.js\": 6235,\n\t\"./ar-sa\": 9032,\n\t\"./ar-sa.js\": 9032,\n\t\"./ar-tn\": 4730,\n\t\"./ar-tn.js\": 4730,\n\t\"./ar.js\": 254,\n\t\"./az\": 3052,\n\t\"./az.js\": 3052,\n\t\"./be\": 150,\n\t\"./be.js\": 150,\n\t\"./bg\": 3069,\n\t\"./bg.js\": 3069,\n\t\"./bm\": 3466,\n\t\"./bm.js\": 3466,\n\t\"./bn\": 8516,\n\t\"./bn-bd\": 557,\n\t\"./bn-bd.js\": 557,\n\t\"./bn.js\": 8516,\n\t\"./bo\": 6273,\n\t\"./bo.js\": 6273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 9815,\n\t\"./bs.js\": 9815,\n\t\"./ca\": 3331,\n\t\"./ca.js\": 3331,\n\t\"./cs\": 1320,\n\t\"./cs.js\": 1320,\n\t\"./cv\": 2219,\n\t\"./cv.js\": 2219,\n\t\"./cy\": 8266,\n\t\"./cy.js\": 8266,\n\t\"./da\": 6427,\n\t\"./da.js\": 6427,\n\t\"./de\": 7435,\n\t\"./de-at\": 2871,\n\t\"./de-at.js\": 2871,\n\t\"./de-ch\": 2994,\n\t\"./de-ch.js\": 2994,\n\t\"./de.js\": 7435,\n\t\"./dv\": 2357,\n\t\"./dv.js\": 2357,\n\t\"./el\": 5649,\n\t\"./el.js\": 5649,\n\t\"./en-au\": 9961,\n\t\"./en-au.js\": 9961,\n\t\"./en-ca\": 9878,\n\t\"./en-ca.js\": 9878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 864,\n\t\"./en-ie.js\": 864,\n\t\"./en-il\": 1579,\n\t\"./en-il.js\": 1579,\n\t\"./en-in\": 940,\n\t\"./en-in.js\": 940,\n\t\"./en-nz\": 6181,\n\t\"./en-nz.js\": 6181,\n\t\"./en-sg\": 4301,\n\t\"./en-sg.js\": 4301,\n\t\"./eo\": 5291,\n\t\"./eo.js\": 5291,\n\t\"./es\": 4529,\n\t\"./es-do\": 3764,\n\t\"./es-do.js\": 3764,\n\t\"./es-mx\": 2584,\n\t\"./es-mx.js\": 2584,\n\t\"./es-us\": 3425,\n\t\"./es-us.js\": 3425,\n\t\"./es.js\": 4529,\n\t\"./et\": 5203,\n\t\"./et.js\": 5203,\n\t\"./eu\": 678,\n\t\"./eu.js\": 678,\n\t\"./fa\": 3483,\n\t\"./fa.js\": 3483,\n\t\"./fi\": 6262,\n\t\"./fi.js\": 6262,\n\t\"./fil\": 2521,\n\t\"./fil.js\": 2521,\n\t\"./fo\": 4555,\n\t\"./fo.js\": 4555,\n\t\"./fr\": 3131,\n\t\"./fr-ca\": 8239,\n\t\"./fr-ca.js\": 8239,\n\t\"./fr-ch\": 1702,\n\t\"./fr-ch.js\": 1702,\n\t\"./fr.js\": 3131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 3821,\n\t\"./ga.js\": 3821,\n\t\"./gd\": 1753,\n\t\"./gd.js\": 1753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 2762,\n\t\"./gom-deva.js\": 2762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 2809,\n\t\"./gu.js\": 2809,\n\t\"./he\": 5402,\n\t\"./he.js\": 5402,\n\t\"./hi\": 3435,\n\t\"./hi.js\": 3435,\n\t\"./hr\": 410,\n\t\"./hr.js\": 410,\n\t\"./hu\": 8288,\n\t\"./hu.js\": 8288,\n\t\"./hy-am\": 7928,\n\t\"./hy-am.js\": 7928,\n\t\"./id\": 1334,\n\t\"./id.js\": 1334,\n\t\"./is\": 6959,\n\t\"./is.js\": 6959,\n\t\"./it\": 4864,\n\t\"./it-ch\": 1124,\n\t\"./it-ch.js\": 1124,\n\t\"./it.js\": 4864,\n\t\"./ja\": 6141,\n\t\"./ja.js\": 6141,\n\t\"./jv\": 9187,\n\t\"./jv.js\": 9187,\n\t\"./ka\": 2136,\n\t\"./ka.js\": 2136,\n\t\"./kk\": 4332,\n\t\"./kk.js\": 4332,\n\t\"./km\": 8607,\n\t\"./km.js\": 8607,\n\t\"./kn\": 4305,\n\t\"./kn.js\": 4305,\n\t\"./ko\": 234,\n\t\"./ko.js\": 234,\n\t\"./ku\": 6003,\n\t\"./ku-kmr\": 9619,\n\t\"./ku-kmr.js\": 9619,\n\t\"./ku.js\": 6003,\n\t\"./ky\": 5061,\n\t\"./ky.js\": 5061,\n\t\"./lb\": 2786,\n\t\"./lb.js\": 2786,\n\t\"./lo\": 6183,\n\t\"./lo.js\": 6183,\n\t\"./lt\": 29,\n\t\"./lt.js\": 29,\n\t\"./lv\": 4169,\n\t\"./lv.js\": 4169,\n\t\"./me\": 8577,\n\t\"./me.js\": 8577,\n\t\"./mi\": 8177,\n\t\"./mi.js\": 8177,\n\t\"./mk\": 337,\n\t\"./mk.js\": 337,\n\t\"./ml\": 5260,\n\t\"./ml.js\": 5260,\n\t\"./mn\": 2325,\n\t\"./mn.js\": 2325,\n\t\"./mr\": 4695,\n\t\"./mr.js\": 4695,\n\t\"./ms\": 5334,\n\t\"./ms-my\": 7151,\n\t\"./ms-my.js\": 7151,\n\t\"./ms.js\": 5334,\n\t\"./mt\": 3570,\n\t\"./mt.js\": 3570,\n\t\"./my\": 7963,\n\t\"./my.js\": 7963,\n\t\"./nb\": 8028,\n\t\"./nb.js\": 8028,\n\t\"./ne\": 6638,\n\t\"./ne.js\": 6638,\n\t\"./nl\": 302,\n\t\"./nl-be\": 5569,\n\t\"./nl-be.js\": 5569,\n\t\"./nl.js\": 302,\n\t\"./nn\": 3501,\n\t\"./nn.js\": 3501,\n\t\"./oc-lnc\": 563,\n\t\"./oc-lnc.js\": 563,\n\t\"./pa-in\": 869,\n\t\"./pa-in.js\": 869,\n\t\"./pl\": 5302,\n\t\"./pl.js\": 5302,\n\t\"./pt\": 9687,\n\t\"./pt-br\": 4884,\n\t\"./pt-br.js\": 4884,\n\t\"./pt.js\": 9687,\n\t\"./ro\": 9107,\n\t\"./ro.js\": 9107,\n\t\"./ru\": 3627,\n\t\"./ru.js\": 3627,\n\t\"./sd\": 355,\n\t\"./sd.js\": 355,\n\t\"./se\": 3427,\n\t\"./se.js\": 3427,\n\t\"./si\": 1848,\n\t\"./si.js\": 1848,\n\t\"./sk\": 4590,\n\t\"./sk.js\": 4590,\n\t\"./sl\": 184,\n\t\"./sl.js\": 184,\n\t\"./sq\": 6361,\n\t\"./sq.js\": 6361,\n\t\"./sr\": 8965,\n\t\"./sr-cyrl\": 1287,\n\t\"./sr-cyrl.js\": 1287,\n\t\"./sr.js\": 8965,\n\t\"./ss\": 5456,\n\t\"./ss.js\": 5456,\n\t\"./sv\": 451,\n\t\"./sv.js\": 451,\n\t\"./sw\": 7558,\n\t\"./sw.js\": 7558,\n\t\"./ta\": 1356,\n\t\"./ta.js\": 1356,\n\t\"./te\": 3693,\n\t\"./te.js\": 3693,\n\t\"./tet\": 1243,\n\t\"./tet.js\": 1243,\n\t\"./tg\": 2500,\n\t\"./tg.js\": 2500,\n\t\"./th\": 5768,\n\t\"./th.js\": 5768,\n\t\"./tk\": 7761,\n\t\"./tk.js\": 7761,\n\t\"./tl-ph\": 5780,\n\t\"./tl-ph.js\": 5780,\n\t\"./tlh\": 9590,\n\t\"./tlh.js\": 9590,\n\t\"./tr\": 3807,\n\t\"./tr.js\": 3807,\n\t\"./tzl\": 3857,\n\t\"./tzl.js\": 3857,\n\t\"./tzm\": 654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 654,\n\t\"./ug-cn\": 845,\n\t\"./ug-cn.js\": 845,\n\t\"./uk\": 9232,\n\t\"./uk.js\": 9232,\n\t\"./ur\": 7052,\n\t\"./ur.js\": 7052,\n\t\"./uz\": 7967,\n\t\"./uz-latn\": 2233,\n\t\"./uz-latn.js\": 2233,\n\t\"./uz.js\": 7967,\n\t\"./vi\": 8615,\n\t\"./vi.js\": 8615,\n\t\"./x-pseudo\": 2320,\n\t\"./x-pseudo.js\": 2320,\n\t\"./yo\": 1313,\n\t\"./yo.js\": 1313,\n\t\"./zh-cn\": 4490,\n\t\"./zh-cn.js\": 4490,\n\t\"./zh-hk\": 5910,\n\t\"./zh-hk.js\": 5910,\n\t\"./zh-mo\": 8262,\n\t\"./zh-mo.js\": 8262,\n\t\"./zh-tw\": 4223,\n\t\"./zh-tw.js\": 4223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;"],"names":["ActivatedRouteSnapshot","RouterStateSnapshot","Router","IsAuthenticatedAuthGuard","constructor","authService","router","canActivate","route","state","_this","_asyncToGenerator","jwtPayload","GetJWTPayload","navigate","has_verified_identity","console","log","i0","ɵɵinject","i1","AuthService","i2","factory","ɵfac","environment","BehaviorSubject","jose","ORG_CREDENTIAL_PUBLIC_ID","FASTEN_AUTH_VAULT_COOKIE_NAME","_httpClient","vaultConfigService","IsAuthenticatedSubject","VaultAuthBegin","email","resp","post","connect_api_endpoint_base","withCredentials","params","toPromise","VaultAuthFinish","code","_this2","Signout","_this3","publishAuthenticationState","deleteCookie","_this4","authToken","getCookie","jwks","createRemoteJWKSet","URL","jwks_uri","issuerHost","connect_api_jwt_issuer_host","payload","protectedHeader","jwtVerify","issuer","audience","systemConfig","user","e","error","IsAuthenticated","_this5","isAuthenticated","name","ca","decodeURIComponent","document","cookie","split","caLen","length","cookieName","c","i","replace","indexOf","substring","setCookie","value","expireDays","path","d","Date","setTime","getTime","expires","toUTCString","cpath","authenticated","next","HttpClient","ConfigService","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[42]}